<div class="edit-container">
  <h2>Edit User #{{ userId }}</h2>

  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

    <!-- Email -->
    <div class="form-field">
      <label for="email">Email</label>
      <input id="email" type="email" formControlName="email" />
      <div class="errors" *ngIf="email.touched && email.invalid">
        <span *ngIf="email.errors?.['required']">Email is required</span>
        <span *ngIf="email.errors?.['email']">Invalid email format</span>
      </div>
    </div>

    <!-- Username -->
    <div class="form-field">
      <label for="username">Username</label>
      <input id="username" type="text" formControlName="username" />
      <div class="errors" *ngIf="username.touched && username.invalid">
        <span *ngIf="username.errors?.['required']">Username is required</span>
        <span *ngIf="username.errors?.['minlength']">Username must be at least 3 characters</span>
        <span *ngIf="username.errors?.['maxlength']">Username must be at most 20 characters</span>
        <span *ngIf="username.errors?.['pattern']">Username can only contain Latin letters, numbers, and underscore</span>
        <span *ngIf="username.errors?.['notAdmin']">Username cannot be "admin"</span>
      </div>
    </div>

    <!-- Age -->
    <div class="form-field">
      <label for="age">Age</label>
      <input id="age" type="number" formControlName="age" />
      <div class="errors" *ngIf="age.touched && age.invalid">
        <span *ngIf="age.errors?.['required']">Age is required</span>
        <span *ngIf="age.errors?.['ageRange']">Age must be between 18 and 100</span>
      </div>
    </div>

    <!-- Buttons -->
    <div class="form-actions">
      <button
        type="submit"
        class="btn btn-save"
        [disabled]="userForm.invalid || userForm.pristine"
      >
        Save
      </button>
      <a routerLink="/" class="btn btn-cancel">Cancel</a>
    </div>
  </form>
</div>
